#!/usr/bin/env bash


varSymbolUppercase = "XTZ"  # Query
varSymbolLowercase = `echo "$varSymbolUppercase" | tr '[:upper:]' '[:lower:]'`

varNameCapitalized = "Tezos" # Query
varNameLowercase   = `echo "$varNameCapitalized" | tr '[:upper:]' '[:lower:]'`
varNameUppercase   = `echo "$varNameCapitalized" | tr '[:lower:]' '[:upper:]'`

varNeedHandlers = "yes"    # Query
varNeedBlockchain = "yes"  # Query

# if varNeedHandlers
#    Copy templates/handlers/* to WalletKitCore/src/walletkit/handlers/${varSymbolLowercase}
#    Rename files: replace __SYMBOL__ with varSymbolUppercase
#    for each file, replace content:
#      __SYMBOL__ -> varSymbolUppercase
#      __symbol__ -> varSymbolLowercase
#      __NAME__   -> varNameUppercase
#      __name__   -> varNameLowercase
#      __Name__   -> varNameCapitalized

# if varNeedBlockchain
#   <analogous to above for WalletKitCore/src/${varNameLowercase}>

# modify WalletKitCore/include/WKBase.h

# modify WalletKitCore/src/walletkit/WKConfig.h - insert the following (substitute symbol/name/etc) in front of "// __CONFIG__":

#define NETWORK_NAME    "Tezos"
DEFINE_NETWORK (WK_NETWORK_TYPE_XTZ,  "tezos-mainnet", NETWORK_NAME, "mainnet", true, 1328407, 6, 60)
DEFINE_NETWORK_FEE_ESTIMATE ("tezos-mainnet", "500000", "1m", 1 * 60 * 1000)
DEFINE_CURRENCY ("tezos-mainnet",     "tezos-mainnet:__native__",   NETWORK_NAME,  WK_NETWORK_CURRENCY_XTZ,  "native",   NULL,   true)
    DEFINE_UNIT ("tezos-mainnet:__native__",  "mutez",     "mtz",   0,  "mutez")
    DEFINE_UNIT ("tezos-mainnet:__native__",  NETWORK_NAME,  "xtz",   6,  "XTZ")
DEFINE_ADDRESS_SCHEMES  ("tezos-mainnet", WK_ADDRESS_SCHEME_NATIVE)
DEFINE_MODES            ("tezos-mainnet", WK_SYNC_MODE_API_ONLY)

#if HAS_XTZ_TESTNET
DEFINE_NETWORK (WK_NETWORK_TYPE_XTZ,  "tezos-testnet", NETWORK_NAME, "testnet", false, 50000, 6, 60)
DEFINE_NETWORK_FEE_ESTIMATE ("tezos-testnet", "500000", "1m", 1 * 60 * 1000)
DEFINE_CURRENCY ("tezos-testnet",     "tezos-testnet:__native__",   NETWORK_NAME,  WK_NETWORK_CURRENCY_XTZ,  "native",   NULL,   true)
    DEFINE_UNIT ("tezos-testnet:__native__",  "mutez",     "mtz",   0,  "mutez")
    DEFINE_UNIT ("tezos-testnet:__native__",  NETWORK_NAME,  "xtz",   6,  "XTZ")
DEFINE_ADDRESS_SCHEMES  ("tezos-testnet", WK_ADDRESS_SCHEME_NATIVE)
DEFINE_MODES            ("tezos-testnet", WK_SYNC_MODE_API_ONLY)
#endif
DEFINE_HANDLERS (WK_NETWORK_TYPE_XTZ, XTZ)
#undef NETWORK_NAME

# modify CMakeLists.txt

# Something in Swift
# Something in Java

# <more?>

